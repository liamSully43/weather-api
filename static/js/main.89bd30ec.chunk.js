(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(6),o=a.n(r),l=a(1),i=a(2),c=a(4),p=a(3),u=(a(12),function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).cel=function(){var e=n.props.data;n.setState({current:n.props.current.temp_c,average:e.day.avgtemp_c,feel:n.props.current.feelslike_c,high:e.day.maxtemp_c,low:e.day.mintemp_c,wind:e.day.maxwind_mph+" mph",prec:e.day.totalprecip_mm+" mm"})},n.fah=function(){var e=n.props.data;n.setState({current:n.props.current.temp_f,average:e.day.avgtemp_f,feel:n.props.current.feelslike_f,high:e.day.maxtemp_f,low:e.day.mintemp_f,wind:e.day.maxwind_kph+" kph",prec:e.day.totalprecip_in+" in"})},n.current=function(){return"object"===typeof n.props.current?"object"===typeof n.props.current.condition?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"forecast"},s.a.createElement("img",{src:n.props.current.condition.icon,height:"60",width:"auto",alt:n.props.current.condition.text,title:n.props.current.condition.text}),s.a.createElement("p",{className:"temp"},n.state.current),s.a.createElement("button",{className:"temp-buttons cel",style:{color:n.state.cel},onClick:function(){return n.props.changeDegrees("cel")}},"\xb0C"),s.a.createElement("button",{className:"temp-buttons fah",style:{color:n.state.fah},onClick:function(){return n.props.changeDegrees("fah")}},"\xb0F"),s.a.createElement("p",{className:"forecast-text"},n.props.data.day.condition.text)),s.a.createElement("p",null,"Feels like: ",n.state.feel,s.a.createElement("span",null,"\xb0"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"forecast"},s.a.createElement("p",{className:"temp"},n.state.current)),s.a.createElement("p",null,"Feels like: ",n.state.feel,s.a.createElement("span",null,"\xb0"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"forecast"},s.a.createElement("img",{src:n.props.data.day.condition.icon,height:"60",width:"auto",alt:n.props.data.day.condition.text,title:n.props.data.day.condition.text}),s.a.createElement("br",{className:"forecast-breaks"}),s.a.createElement("br",{className:"forecast-breaks"}),s.a.createElement("p",{className:"forecast-text"},n.props.data.day.condition.text)),s.a.createElement("p",null,"Average: ",n.state.average,s.a.createElement("span",null,"\xb0")))},n.date=function(){var e=n.props.date.substring(8,n.props.date.length);e=Number(e);var t=n.props.data.date.substring(8,n.props.data.date.length);if(e===(t=Number(t)))return"Today";if(e+1===t)return"Tomorrow";if(e+2!==t)return n.props.data.date;switch(n.props.day){case"Mon":return"Wednesday";case"Tue":return"Thursday";case"Wed":return"Friday";case"Thu":return"Saturday";case"Fri":return"Sunday";case"Sat":return"Monday";case"Sun":return"Tuesday";default:return n.props.data.date}},n.toggleDetails=function(){"none"===n.state.display?n.setState({title:"Hide Details",display:"block"}):n.setState({title:"More Details",display:"none"})},n.state={title:"More Details",display:"none",detailsButtonDisplay:"none",current:"",average:"",feel:"",high:"",low:"",wind:"",prec:"",cel:"#212121",fah:"grey"},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e!==this.props&&("cel"===this.props.degree?(this.cel(),this.setState({cel:"#212121",fah:"grey"})):(this.fah(),this.setState({cel:"grey",fah:"#212121"})),!1===this.props.geoAllowed||null===this.props.geoAllowed?this.setState({detailsButtonDisplay:"none",display:"none",title:"More Details"}):this.setState({detailsButtonDisplay:"block",display:"none",title:"More Details"}))}},{key:"render",value:function(){var e=this.props.data.day;return s.a.createElement("div",{className:"weather-card",id:this.props.position},s.a.createElement("h3",null,this.date()),s.a.createElement("div",null,this.current()),s.a.createElement("p",null,"High: ",this.state.high,s.a.createElement("span",null,"\xb0")),s.a.createElement("p",null,"Low: ",this.state.low,s.a.createElement("span",null,"\xb0")),s.a.createElement("br",null),s.a.createElement("button",{className:"details-button",style:{display:this.state.detailsButtonDisplay},onClick:this.toggleDetails},this.state.title),s.a.createElement("div",{className:"extra-details",style:{display:this.state.display}},s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-tint"}),"Humidity: ",e.avghumidity,s.a.createElement("span",{style:{fontSize:"10px"}},"%")),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-cloud-rain"}),"Chance of rain: ",e.daily_chance_of_rain,s.a.createElement("span",{style:{fontSize:"10px"}},"%")),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-snowflake"}),"Chance of snow: ",e.daily_chance_of_snow,s.a.createElement("span",{style:{fontSize:"10px"}},"%")),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-wind"}),"Wind speed: ",this.state.wind,s.a.createElement("span",{style:{fontSize:"10px"}})),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-water"}),"Precipitation: ",this.state.prec,s.a.createElement("span",{style:{fontSize:"10px"}})),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-sun"}),"UV: ",e.uv),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-coffee"}),"Sunrise: ",this.props.data.astro.sunrise),s.a.createElement("p",null,s.a.createElement("i",{className:"fas fa-moon"}),"Sunset: ",this.props.data.astro.sunset)))}}]),a}(s.a.Component));u.defaultProps={data:{date:"",day:{avghumidity:"",avgtemp_c:"",avgtemp_f:"",maxtemp_c:"",maxtemp_f:"",mintemp_c:"",mintemp_f:"",avgvis_miles:"",avgvis_km:"",condition:{icon:"",text:""},daily_chance_of_rain:"",daily_chance_of_snow:"",maxwind_mph:"",maxwind_kph:"",totalprecip_mm:"",totalprecip_in:"",uv:""},astro:{sunrise:"",sunset:""}},current:""};var d=u,m=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={value:"",location:""},e.resultsStyle=function(){return e.props.geoAllowed&&null===e.props.noLocation||e.props.geoAllowed&&!1===e.props.noLocation?{display:"inline-block"}:{display:"none"}},e.locationStyle=function(){return e.resultsStyle(),null===e.props.noLocation?{display:"none"}:{display:"block"}},e.handleChange=function(t){e.setState({value:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.submit(e.state.value)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=["Bristol","London","Manchester","Glasgow","Cardiff","Dublin","Paris","Berlin","Rome","Stockholm","Sydney","Chicago","Los Angeles","Madrid","Berlin"];setInterval((function(){e.setState({location:"e.g. ".concat(t[Math.floor(Math.random()*t.length)])})}),3e4),this.setState({location:"e.g. ".concat(t[Math.floor(Math.random()*t.length)])})}},{key:"render",value:function(){return s.a.createElement("header",null,s.a.createElement("div",{className:"results",style:this.resultsStyle()},s.a.createElement("h4",null,"Country: ",s.a.createElement("span",{className:"title-results"},this.props.country)),s.a.createElement("h4",null,"Location: ",s.a.createElement("span",{className:"title-results"},this.props.location)),s.a.createElement("h4",null,"Region: ",s.a.createElement("span",{className:"title-results"},this.props.region)),s.a.createElement("h4",null,"Local Time: ",s.a.createElement("span",{className:"title-results"},this.props.time)),s.a.createElement("h4",null,"Last Updated: ",s.a.createElement("span",{className:"title-results"},this.props.updated," ",s.a.createElement("span",{style:{fontSize:"14px"}},"(updated every 15 minutes)"))),s.a.createElement("br",null)),s.a.createElement("div",{className:"location",style:this.locationStyle()},s.a.createElement("p",{className:"noLocation"},this.props.noLocation),s.a.createElement("br",null)),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("p",null,"Enter a location below to update the results:"),s.a.createElement("input",{type:"text",placeholder:this.state.location,onChange:this.handleChange,value:this.state.value})))}}]),a}(s.a.Component),h=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={data:[],current:{},pos:"",date:"",day:"",country:"",location:"",region:"",time:"",updated:Date(),degree:"cel",noLocation:null,geoAllowed:null},e.timer={timer:null},e.time=function(){var t=Date(),a=t.substring(16,t.length-34);e.setState({updated:a})},e.changeDegrees=function(t){e.setState({degree:t})},e.success=function(t){var a=Date();a=a.substr(0,a.length-52),e.setState({pos:t,day:a,geoAllowed:!0},(function(){var t=null;"object"===typeof e.state.pos&&(t="https://api.weatherapi.com/v1/forecast.json?key=64e20cef002e4aed9f6164849200505&q=".concat(e.state.pos.coords.latitude,",").concat(e.state.pos.coords.longitude,"&days=10")),"string"===typeof e.state.pos&&(t="https://api.weatherapi.com/v1/forecast.json?key=64e20cef002e4aed9f6164849200505&q=".concat(e.state.pos,"&days=10")),"undefined"!==typeof t&&(fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){if("object"===typeof t.location){e.setState({data:t.forecast.forecastday,current:t.current});var a=t.location.localtime,n=a.substring(0,a.length-6),s=a.substring(11,a.length);e.setState({date:n,country:t.location.country,location:t.location.name,region:t.location.region,time:s,noLocation:null})}else console.log("Error ".concat(t.error.code,": ").concat(t.error.message)),e.setState({noLocation:t.error.message,data:"",current:"",geoAllowed:!1})})).catch=function(e){console.log(e)})})),e.time()},e.error=function(t){e.setState({geoAllowed:!1}),console.log(t.message)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(this.success,this.error,this.options),this.time(),this.timer.timer=setInterval((function(){e.time(),e.success(e.state.pos)}),9e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer.timer)}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement(m,{country:this.state.country,location:this.state.location,region:this.state.region,time:this.state.time,updated:this.state.updated,noLocation:this.state.noLocation,geoAllowed:this.state.geoAllowed,submit:this.success}),s.a.createElement("div",{className:"container-breaks"}),s.a.createElement(d,{position:"current",current:this.state.current,data:this.state.data[0],date:this.state.date,day:this.state.day,degree:this.state.degree,changeDegrees:this.changeDegrees,geoAllowed:this.state.geoAllowed}),s.a.createElement("div",{className:"section-break"}),s.a.createElement(d,{position:"tomorrow",data:this.state.data[1],date:this.state.date,day:this.state.day,degree:this.state.degree,changeDegrees:this.changeDegrees,geoAllowed:this.state.geoAllowed}),s.a.createElement("div",{className:"container-breaks"}),s.a.createElement(d,{position:"future",data:this.state.data[2],date:this.state.date,day:this.state.day,degree:this.state.degree,changeDegrees:this.changeDegrees,geoAllowed:this.state.geoAllowed}))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.89bd30ec.chunk.js.map